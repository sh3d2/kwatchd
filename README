attempt to mimic https://github.com/gorzechowski/gwatchd on macosx
